<ion-header class="header">
  <ion-toolbar>
    <ion-back-button slot="start" text=""></ion-back-button>
    <ion-title>{{'PAGE.TRAINING' | translate}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div style="position: absolute;width: 100%">
    <div class="title"><div class="title_text">{{'TITLES.STAGE'| translate}}</div></div>
    <ion-label class="testing-title">{{stage}}/3</ion-label>
  </div>

  <app-canvas (drawingComplete)="handleDrawingResult($event)"
              [stage]="stage"
              [coeff] = shapes[activeShapeIndex].coeffPermissibleErrors
              [drawShape]="activeShape">
  </app-canvas>

  <ion-item  lines="full" class="result-item">
    <ion-icon *ngIf="activeShapeIndex" slot="start" (click)="switchShape(-1)" name="arrow-back-circle-outline"></ion-icon>
    <ion-label *ngIf="currResult">{{'TITLES.RESULT'|translate}}: <span style="font-size: 40px">{{ currResult + '%'}}</span></ion-label>
    <ion-icon *ngIf="currResult > 70 && stage === 3 && this.shapes[3].results.length !== 3" (click)="switchShape(1)" slot="end" name="arrow-forward-circle-outline"></ion-icon>
  </ion-item>

</ion-content>
